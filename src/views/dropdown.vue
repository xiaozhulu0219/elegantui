<script setup>
import { ref, toRaw, h,onMounted } from "vue";
import gridLayout from '../comp/gridLayout.vue';// å¼•å…¥å¸ƒå±€ç»„ä»¶
import xml from 'highlight.js/lib/languages/xml';
import notify from '../comp/notify.vue';
import propsShow from '../comp/propsShow.vue';
import javascript from 'highlight.js/lib/languages/javascript';
import compShow from '../comp/compShow.vue';

onMounted(()=>{
  const tar = document.querySelector('.elg-inner__wrapper');
  tar.scrollTop =0
})

const Notify = ref();

const handleCopy = () => {
  Notify.value.message({
    content: 'å¤åˆ¶æˆåŠŸ',
    type: 'success'
  })
}


const handleChange = (target) => {
  const message = target ? 'æ˜¾ç¤º' : 'éšè—';
  window.alert(`å½“å‰å¼¹æ¡†çŠ¶æ€:${message}`,)

}
const handleSelect = (item) => {
  const temp = JSON.stringify(toRaw(item));

  const message = `å½“å‰ç‚¹å‡»äº†,${temp}é¡¹`
  window.alert(message);
}
const list = ref([
  {
    label: 'åº“æ´›ç±³',
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
])
const list2 = ref([
  {
    label: 'å¸ƒæœ—ç†Š',
    key: 1
  },
  {
    label: 'å¯å¦®å…”',
    key: 2
  },
  {
    label: 'èè‰é¸¡ğŸ¥',
    key: 3,
    disabled: true
  },
  {
    label: 'é¦’å¤´äºº',
    key: 4
  },
])
const list3 = ref([
  {
    label: 'é›ªè‰',
    key: 1
  },
  {
    label: 'æ™®åˆ©è«',
    key: 2,
    divided: true
  },
  {
    label: 'è¿ªå…‹',
    key: 3,
  },
  {
    label: 'æ°è¥¿',
    key: 4
  },
])
const list4 = ref([
  {
    label: h('div', { class: 'bar', innerHTML: 'åº“æ´›ç±³' }),
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2,
    divided: true
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
])

const codeTarget = {
  xml: xml
}
const codeTarget2 = {
  xml: xml,
  javascript: javascript
}
const codeType = 'xml';

const codeStr1 = `
<template>
  <Elg-Dropdown :menuOptions="list">
    <Elg-Button type="text">ä¸‰ä¸½é¸¥å…¨æ˜æ˜Ÿ
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown> 
  <Elg-Dropdown :menuOptions="list2">
    <Elg-Button type="text">lineFriends
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>
  <Elg-Dropdown :menuOptions="list3">
    <Elg-Button type="text">è’é‡ä¹±æ–—
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>
</template>
<script>
const list = ref([
  {
    label: 'åº“æ´›ç±³',
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
])
const list2 = ref([
  {
    label: 'å¸ƒæœ—ç†Š',
    key: 1
  },
  {
    label: 'å¯å¦®å…”',
    key: 2
  },
  {
    label: 'èè‰é¸¡ğŸ¥',
    key: 3,
    disabled: true
  },
  {
    label: 'é¦’å¤´äºº',
    key: 4
  },
])
const list3 = ref([
  {
    label: 'é›ªè‰',
    key: 1
  },
  {
    label: 'æ™®åˆ©è«',
    key: 2,
    divided: true
  },
  {
    label: 'è¿ªå…‹',
    key: 3,
  },
  {
    label: 'æ°è¥¿',
    key: 4
  },
])
\<\/script\>
`
const codeStr2 = `
<template>
  <Elg-Dropdown :menuOptions="list" trigger="click">
    <Elg-Button type="primary">ç‚¹å‡»è§¦å‘
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>
</template>
<script>
const list = ref([
  {
    label: 'åº“æ´›ç±³',
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
])
\<\/script\>

`
const codeStr3 = `
<template>
  <Elg-Dropdown :menuOptions="list" trigger="click" @visible-change="handleChange" @select="handleSelect">
    <Elg-Button type="primary">ç‚¹å‡»è§¦å‘
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>
  <Elg-Dropdown :menuOptions="list" trigger="click" :hideAfterClick="true">
    <Elg-Button type="primary">ç‚¹å‡»åéšè—è¯¥å¼¹æ¡†
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>
</template>
<script>
const list = ref([
  {
    label: 'åº“æ´›ç±³',
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
]);
const handleChange = (target) => {
  const message = target ? 'æ˜¾ç¤º' : 'éšè—';
  window.alert('å½“å‰å¼¹æ¡†çŠ¶æ€:'+message)
}
const handleSelect = (item) => {
  const temp = JSON.stringify(toRaw(item));

  const message = 
  window.alert('å½“å‰ç‚¹å‡»äº†,'+temp+'é¡¹');
}
\<\/script\>
`
const codeStr4 = `
<template>
  <Elg-Dropdown :menuOptions="list4">
    <Elg-Button type="primary">ä¼ å…¥vnodeèŠ‚ç‚¹
      <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
    </Elg-Button>
  </Elg-Dropdown>  
</template>
<script>
const list4 = ref([
  {
    label: h('div', { class: 'bar', innerHTML: 'åº“æ´›ç±³' }),
    key: 1
  },
  {
    label: 'ç¾ä¹è’‚',
    key: 2,
    divided: true
  },
  {
    label: 'å¸ƒä¸ç‹—',
    key: 3,
  },
  {
    label: 'å¸•æ°ğŸ•',
    key: 4
  },
])
\<\/script\>
`
const propsList = [
  {
    propsName: 'menuOptions',
    effect: 'ä¸‹æ‹‰å†…å®¹æ¡ç›®æ•°ç»„',
    type: 'Array',
    required: 'æ˜¯',
    default: 'æ— ',
    info: ''
  },
  {
    propsName: 'hideAfterClick',
    effect: 'ç‚¹å‡»æ¡ç›®æ˜¯å¦éšè—',
    type: 'Boolean',
    required: 'å¦',
    default: 'false',
    info: ''
  },
]
const columns = [
  {title:'äº‹ä»¶åç§°',value:'eventName'},
  {title:'ä½œç”¨',value:'eventEffect'},
  {title:'å¤‡æ³¨',value:'info'}
]

const propsList2=[
{
    eventName:'visible-change',
    eventEffect:'æ˜¾ç¤ºçŠ¶æ€æ”¹å˜åè§¦å‘',
    info:''
  },{
    eventName:'select',
    eventEffect:'é€‰æ‹©çš„å…·ä½“æ¡ç›®',
    info:''
  }
]
</script>
<template>
  <notify ref="Notify"> </notify>
  <div class="views-container">
    <div class="elg-view__title">
      ä¸‹æ‹‰èœå•Â·Dropdown
    </div>
    <div class="elg-view__sTitle">
      æ•ˆæœæ¼”ç¤º
    </div>
    <div class="elg-grid__wrap">
      <gridLayout>
        <template #left>
          <compShow title="åŸºç¡€ç”¨æ³•" :code="codeStr1" :codeTarget="codeTarget2" :codeType="codeType"
            @copyCallback="handleCopy">
            <div class="drop-wrap">
              <Elg-Dropdown :menuOptions="list">
                <Elg-Button type="text">ä¸‰ä¸½é¸¥å…¨æ˜æ˜Ÿ
                  <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
                </Elg-Button>
              </Elg-Dropdown>
              <Elg-Dropdown :menuOptions="list2">
                <Elg-Button type="text">lineFriends
                  <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
                </Elg-Button>
              </Elg-Dropdown>
              <Elg-Dropdown :menuOptions="list3">
                <Elg-Button type="text">è’é‡ä¹±æ–—
                  <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
                </Elg-Button>
              </Elg-Dropdown>

            </div>

          </compShow>
          <compShow title="äº‹ä»¶" :code="codeStr3" :codeTarget="codeTarget2" :codeType="codeType" @copyCallback="handleCopy">
            <template #info>
              æ³¨å†Œäº‹ä»¶è·å–å½“å‰éšè—æˆ–è€…æ˜¾ç¤ºçš„çŠ¶æ€,ä»¥åŠå½“å‰é€‰æ‹©çš„å…ƒç´ 
            </template>
            <div class="drop-wrap">
              <Elg-Dropdown :menuOptions="list" trigger="click" @visible-change="handleChange" @select="handleSelect">
                <Elg-Button type="success">ç‚¹å‡»è§¦å‘
                  <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
                </Elg-Button>
              </Elg-Dropdown>
              <Elg-Dropdown :menuOptions="list" trigger="click" :hideAfterClick="true">
                <Elg-Button type="primary">ç‚¹å‡»åéšè—è¯¥å¼¹æ¡†
                  <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
                </Elg-Button>
              </Elg-Dropdown>
            </div>
          </compShow>
        </template>
        <template #right>
          <compShow title="ç‚¹å‡»è§¦å‘" :code="codeStr2" :codeTarget="codeTarget2" :codeType="codeType"
            @copyCallback="handleCopy">
            <template #info>
              <p>å¯ä½¿ç”¨æŒ‰é’®ç‚¹å‡»è§¦å‘ä¸‹æ‹‰èœå•ã€‚</p>
            </template>
            <Elg-Dropdown :menuOptions="list" trigger="click">
              <Elg-Button type="warning">ç‚¹å‡»è§¦å‘
                <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
              </Elg-Button>
            </Elg-Dropdown>
          </compShow>
          <compShow title="æ”¯æŒvnodeèŠ‚ç‚¹" :code="codeStr4" :codeTarget="codeTarget2" :codeType="codeType"
            @copyCallback="handleCopy">
            <Elg-Dropdown :menuOptions="list4">
              <Elg-Button type="danger">ä¼ å…¥vnodeèŠ‚ç‚¹
                <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
              </Elg-Button>
            </Elg-Dropdown>

          </compShow>
        </template>

      </gridLayout>
      <div class="elg-view__sTitle">
        å±æ€§Props
      </div>
      <propsShow :propsList="propsList" />
      <p style="text-align: start;margin: 10px 0;">
        æ­¤å¤– dropdown æ˜¯åŸºäºtooltipçš„äºŒæ¬¡å°è£…,æ”¯æŒtooltipçš„placement,trigger,manual,openDelay,closeDelayç­‰å±æ€§

      </p>
      <div class="elg-view__sTitle">
        äº‹ä»¶Event
      </div>
      <propsShow :columns="columns" :propsList="propsList2" width="50%" />

    </div>

  </div>
  <!-- <h2 class="row
  -title">åŸºç¡€ç”¨æ³•</h2>
  <div class="row">
    <Elg-Dropdown :menuOptions="list">

      <Elg-Button type="text">ä¸‹æ‹‰èœå•
        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>
    <Elg-Dropdown :menuOptions="list2">

      <Elg-Button type="text">éƒ¨åˆ†ç¦ç”¨
        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>
    <Elg-Dropdown :menuOptions="list3">

      <Elg-Button type="text">åˆ†å‰²çº¿
        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>
  </div>
  <h2 class="row-title">è§¦å‘æ–¹å¼</h2>
  <p>å¯ä½¿ç”¨æŒ‰é’®ç‚¹å‡»è§¦å‘ä¸‹æ‹‰èœå•ã€‚</p>
  <div class="row">
    <Elg-Dropdown :menuOptions="list" trigger="click">

      <Elg-Button type="primary">ç‚¹å‡»è§¦å‘
        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>

  </div>
  <h2 class="row-title">æ³¨å†Œäº‹ä»¶è·å–å½“å‰éšè—æˆ–è€…æ˜¾ç¤ºçš„çŠ¶æ€,ä»¥åŠå½“å‰é€‰æ‹©çš„å…ƒç´ </h2>
  <div class="row">
    <Elg-Dropdown :menuOptions="list" trigger="click" @visible-change="handleChange" @select="handleSelect">


      <Elg-Button type="primary">ç‚¹å‡»è§¦å‘
        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>
    <Elg-Dropdown :menuOptions="list" trigger="click" :hideAfterClick="true">

      <Elg-Button type="primary">ç‚¹å‡»åéšè—è¯¥å¼¹æ¡†

        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>

  </div>

  <h2 class="row-title">æ”¯æŒvnodeèŠ‚ç‚¹</h2>
  <div>
    <Elg-Dropdown :menuOptions="list4">

      <Elg-Button type="primary">ä¼ å…¥vnodeèŠ‚ç‚¹

        <Elg-Icon icon="fa-angle-down" size="xs"></Elg-Icon>
      </Elg-Button>
    </Elg-Dropdown>
  </div> -->
</template>



<style>
/* *{
  list-style: none;
} */
.bar {
  font-size: 1.2em;
  color: var(--danger);
}

.drop-wrap {
  display: flex;
}
</style>